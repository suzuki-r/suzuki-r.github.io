<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="EN-US">  <head>    <meta http-equiv="content-type" content="text/html; charset=utf-8">    <link rel="stylesheet" type="text/css" href="mypane.css">    <title>Jupyter/Python</title>    <style>      .quote {width: 80%;border-style: solid; border-color: rgb(98, 150, 102); border-width: 1px 3px 3px 1px;         margin: 0px 0px 0px 40px; text-indent: 1em;	line-height: 0.8;	background-color: rgb(230, 248, 228);}        .cont{width: 50%; text-align: center;	padding: 1em;	border: solid thin;	margin: 0 auto 0 auto;        text-indent: 2em; line-height: 1.4; font size: 4; word-wrap:auto;}div.comments{margin: 0px auto; text-align: left; width: 90%; background-color:white}  </style>  </head>  <body>    <div class="wrapper">      <div class="sidenav">        <div class="sidemenu"><a href="panel.html" target="_top">Links</a></div>        <div class="sidemenu"><a href="old.html" target="_top">Old</a></div>        <div class="sidemenu"><a href="online.html" target="_top">Web resources</a></div>        <div class="sidemenu"><a href="MathematicaTips.html" target="_top">Mathematica</a></div>        <div class="sidemenu_on"><a href="Jupyter.html" target="_top">Python/Jupyter</a></div>        <div class="sidemenu"><a href="GAP.html" target="_top">GAP</a></div>      </div>      <div class="contents_sub">        <h2 style="text-align: center;">How to Use Jupyter / Python</h2>        <hr style="width: 95%;"><br>        <div align="center">          <div style="margin: 0px auto; text-align: left; width: 25%;"><a href="#sec0">0.              Preliminary</a><br>            <a href="#sec1">1. Install</a><br>            <a href="#sec2">2. Launch</a><br>            <a href="#sec3">3. Code and Run</a><br>            <a href="#sec4">4. Environment Isolation Tool</a><br>          </div>        </div>        <br>        <hr style="width: 95%;">        <h3 id="sec0">0. Preliminary<br>        </h3>        <div style="margin-left:30px; margin-right:30px;">          <p>Jupyter is a notebook interface of Pyhton and works like            Mathematica notebooks. One can immediately execute the program            without compiling the code. Jupyter is one of the Python libraries. There are            useful libraries such as sympy (Symbolic computation), tensorflow            (Machine learning). </p>          <p>Jupyter can be installed in two ways, either globally by pip (official package installer of Pyhton), or locally by Environment Isolation Tool (EIT) such as pyenv or virtualenv.  Note that two installations are completely independent. When you want to use Jupyter under EIT, you need to activate the particular virtual environment every time, rather than immediately typing <i>jupyter notebook</i> in Terminal.</p>        </div>        <h3 id="sec1">1. Install<br>        </h3>        <div style="margin-left:30px; margin-right:30px;"> Follow the          instruction of <a href="https://www.tensorflow.org/install">TensorFlow</a>.          Tips are given below.          <ul>            <li> You will use <b>virtualenv</b> to install TensorFlow. This              means that you install Jupyter <b>below</b> the TensorFlow              folder, even if you have it elsewhere. See <a href="https://stackoverflow.com/questions/37061089/trouble-with-tensorflow-in-jupyter-notebook">this                post</a>. </li>            <li> If you want to skip the step (iii) in <a href="#sec2">Run</a>,              try the tricks of <a href="https://stackoverflow.com/questions/44176160/jupyter-notebooks-startup-and-stopping">this</a>              and <a href="https://jupyter-notebook.readthedocs.io/en/latest/public_server.html">that</a>.            </li>          </ul>          <p> One can work with other machine learning frameworks, other virtual            environments of Python, and other bash profiles.<sup><a href="#fn1"                id="ref1">1</a></sup>          </p>        </div>        <h3 id="sec2">2. Launch<br>        </h3>        <div style="margin-left:30px; margin-right:30px;">          <p>i) Launch TensorFlow from Terminal <sup><a href="#fn2" id="ref2">2</a></sup></p>          <div class="quote">              <pre>$ source ~/tensorflow/bin/activate</pre>          </div>          <p>ii) Open Jupyter notebook <sup><a href="#fn3" id="ref3">3</a></sup></p>          <div class="quote">            <pre>$ jupyter notebook</pre>          </div>          <p>or</p>          <div class="quote">            <pre>$ jupyter notebook <i>filename</i>.ipynb</pre>          </div>          <p> iii) Copy &amp; paste the URL shown in Terminal to the web            browser:<br>            <br>            &nbsp;&nbsp; http://localhost:8888/?token=(something)<br>          </p>          <p> iv) We should terminate the virtual environment</p>          <div class="quote">            <pre>$ source deactivate</pre>          </div>          <p>If you use Anaconda, this should be</p>          <div class="quote">            <pre>$ conda deactivate</pre>          </div>          </p>        </div>        <h3 id="sec3">3. Code and Run<br>        </h3>        <div style="margin-left:30px; margin-right:30px;">          <p>Commands are executed by Shift+Return. "In []" becomes "[*]" during            evaluating, and turns into "[number]" when it finishes. </p>        </div>      <h3 id="sec4">4. Environment Isolation Tool<br>        </h3>        <div style="margin-left:30px; margin-right:30px;">        <p>Some people emphasize the importance of virtual environments, to check the consistency of python versions, package requirements and package installation trees. Several tools are available, such as <b>pyenv</b>, <b>virtualenv</b>, <b>pyenv-virtualenv</b>, <b>Anaconda</b> and <b>Pipenv</b>. Below I explain <b>pyenv</b>.        </p>          <p>First, we install or upgrade pyenv by Homebrew.</p>          <div class="quote">            <pre>$ brew upgrade pyenv</pre>          </div>          <p>The system may automatically launch             <pre>brew cleanup</pre>          In case you find a permission error, try (see <a href="https://github.com/Homebrew/homebrew-core/issues/45009">this post</a>)</p>            <div class="quote">              <pre>$ sudo chown -R $(whoami) $(brew --prefix)/*</pre>            </div>          <p>Second, we install the latest version of Python. You can check it by the official website, or by typing </p>          <div class="quote">            <pre>$ pyenv install --list</pre>          </div>          <p>If the latest version is 3.x.y, you install it, change the python version of the current user, and refresh the status.</p>              <div class="quote">                <pre>$ pyenv install 3.x.y</pre>                <pre>$ pyenv global 3.x.y</pre>                <pre>$ eval "$(pyenv init -)"</pre>              </div>          <p>We can check versions,</p>              <div class="quote">                <pre>$ pyenv versions</pre>                <pre>$ python --version</pre>                <pre>$ pip -V</pre>              </div>    <p>Third, we install (the latest version of) <b>Jupyter</b>. However, Jupyter is not in the pyenv's install list. A typical error is</p>      <pre>pyenv: jupyter: command not found</pre>        <p>Jupyter is included in the package called Anaconda, which can be installed by pyenv.        Check available virtual environments and install the latest version of Anaconda,</p>        <div class="quote">          <pre>$ pyenv virtualenvs</pre>          <pre>$ pyenv install anaconda3-20yy.mm</pre>        </div>        <p>We should turn on (and off) a virtual environment before using Jupyter</p>          <div class="quote">         <pre>$ pyenv activate <i>environment_name</i></pre>          <pre>$ jupyter notebook</pre>          <pre>$ pyenv deactivate</pre>          </div>        <p>We can remove the old version of Anaconda by</p>        <div class="quote">          <pre>$ pyenv uninstall anaconda3-x.y.z</pre>        </div>      </div>        <br>        <hr> <sup id="fn1">1</sup> The following line in the ~/.bash_profile        changes the prompt of OSX Terminal session,<br>        &nbsp; $&nbsp; eval "$(pyenv virtualenv-init -)"<br>        because <i>eval</i> changes the environment of the main bash shell.        Since one cannot "deactivate" pyenv-virtualenv like virtualenv, one        should either delete the line, or use<br>        &nbsp; $&nbsp; export PYENV_VIRTUALENV_DISABLE_PROMPT=1 <br>        <sup id="fn2">2</sup> $ source <i>filename</i> (or $ . <i> filename</i>        ) executes the contents of <i>filename</i> in the current shell.<sup><a            href="#ref1">?</a></sup><br>        <sup id="fn3">3</sup> $ ipython <i>notebook</i> was an old version of $        jupyter <i> notebook</i>.<sup><a href="#ref2">?</a></sup><br>        <p> </p>      </div>    </div>  </body></html>